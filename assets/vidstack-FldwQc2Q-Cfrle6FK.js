var t,e,r,s,i=Object.defineProperty,a=t=>{throw TypeError(t)},n=(t,e,r)=>((t,e,r)=>e in t?i(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r)(t,"symbol"!=typeof e?e+"":e,r),o=(t,e,r)=>e.has(t)||a("Cannot "+r),c=(t,e,r)=>(o(t,e,"read from private field"),r?r.call(t):e.get(t)),l=(t,e,r)=>e.has(t)?a("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),h=(t,e,r)=>(o(t,e,"access private method"),r);import{n as d,l as u,e as f,c as p,w as b,x as m,b as g}from"./main-BJ8Fpfsr.js";class y{constructor(r){var s,i,a,c;l(this,e),l(this,t),n(this,"src",d("")),n(this,"referrerPolicy",null),a=r,o(s=this,i=t,"write to private field"),c?c.call(s,a):i.set(s,a),r.setAttribute("frameBorder","0"),r.setAttribute("aria-hidden","true"),r.setAttribute("allow","autoplay; fullscreen; encrypted-media; picture-in-picture; accelerometer; gyroscope"),null!==this.referrerPolicy&&r.setAttribute("referrerpolicy",this.referrerPolicy)}get iframe(){return c(this,t)}setup(){u(window,"message",h(this,e,s).bind(this)),u(c(this,t),"load",this.onLoad.bind(this)),f(h(this,e,r).bind(this))}postMessage(e,r){var s;m||null==(s=c(this,t).contentWindow)||s.postMessage(JSON.stringify(e),r??"*")}}t=new WeakMap,e=new WeakSet,r=function(){const e=this.src();if(!e.length)return void c(this,t).setAttribute("src","");const r=p(()=>this.buildParams());c(this,t).setAttribute("src",b(e,r))},s=function(e){var r;const s=this.getOrigin();if(!(null!==e.source&&e.source!==(null==(r=c(this,t))?void 0:r.contentWindow)||g(s)&&s!==e.origin)){try{const t=JSON.parse(e.data);return void(t&&this.onMessage(t,e))}catch(i){}e.data&&this.onMessage(e.data,e)}};export{y as E};
