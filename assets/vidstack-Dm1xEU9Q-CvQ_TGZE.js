const t=/(?:youtu\.be|youtube|youtube\.com|youtube-nocookie\.com)(?:\/shorts)?\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=|)((?:\w|-){11})/,e=new Map,o=new Map;function n(e){var o;return null==(o=e.match(t))?void 0:o[1]}async function s(t,n){if(e.has(t))return e.get(t);if(o.has(t))return o.get(t);const s=new Promise(async o=>{const s=["maxresdefault","sddefault","hqdefault"];for(const u of s)for(const s of[!0,!1]){const a=c(t,u,s);if((await fetch(a,{mode:"no-cors",signal:n.signal})).status<400)return e.set(t,a),void o(a)}}).catch(()=>"").finally(()=>o.delete(t));return o.set(t,s),s}function c(t,e,o){return`https://i.ytimg.com/${o?"vi_webp":"vi"}/${t}/${e}.${o?"webp":"jpg"}`}export{s as findYouTubePoster,n as resolveYouTubeVideoId};
